/*! ArcGIS API for JavaScript 4.3 | Copyright (c) 2017 Esri. All rights reserved. | http://www.esri.com/legal/privacy | https://developers.arcgis.com/terms/faq */
"use strict";require(["esri-playground-js/utils/CurrentState","esri-playground-js/utils/mainUtils","esri-playground-js/utils/Initializer","esri-playground-js/utils/DataProvider","dojo/dom","dojo/domReady!"],function(e,n,i,t,s){function a(){var n=window.location.hash,t=e.getInstance();n.toLowerCase().indexOf("3d")>-1?(c.style.display="none",t.set("view",i.getView(!0))):t.set("view",i.getView())}function l(){var t=window.location.hash,s=e.getInstance();a();var l=t.split("=")[1];if(l){r.style.display="none",d.style.display="flex",g.style.display="block",u.style.display="inline";var f=l.split("?")[0],w=require.toUrl("esri-playground-data")+"/"+f,I=w.split("/").pop().split(".")[0],v=I.toLowerCase().indexOf("3d")>-1;I.toLowerCase().indexOf("picture")>-1||v||I.toLowerCase().indexOf("webstyle")>-1?c.style.display="none":c.style.display="inline-block";var b=JSON.parse(localStorage.getItem(I));b&&b.config&&!o&&!v&&(o=n.parseConfig(b.config,!0)),(!o||o&&w.indexOf(o.className)===-1)&&(o=n.parseConfig(w,!0)),s.set("config",o),y.innerHTML=o.className+": ",p.innerHTML=o.summary,i.init()}else r.style.display="flex",d.style.display="none",g.style.display="none",u.style.display="none",y.innerHTML="",p.innerHTML="A code generator application",i.clearGraphicsLayer2D()}var o=null,r=s.byId("selectionBlock"),d=s.byId("generatorBlock"),y=s.byId("pageTitle"),p=s.byId("pageSubTitle"),c=(s.byId("playArea"),s.byId("viewsOptions")),g=s.byId("mapOptions"),u=s.byId("searchBtn");window.onhashchange=function(){i.reset(),l()},i.initMsgCenterHandlers(),a(),e.getInstance().view.then(function(){var n=require.toUrl("esri-playground-data")+"/index-config.json";t.getJsonData(n,!0).then(function(n){i.initSelectionHandlers(e.getInstance().view.map,n)})}),l()});