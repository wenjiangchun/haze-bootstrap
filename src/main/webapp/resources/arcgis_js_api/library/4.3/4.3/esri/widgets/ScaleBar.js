// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.3/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./support/widget ../core/accessorSupport/decorators ../core/watchUtils ./Widget ./ScaleBar/ScaleBarViewModel ../geometry/ScreenPoint dojo/dom-geometry dojo/i18n!./ScaleBar/nls/ScaleBar".split(" "),function(e,r,k,d,b,f,l,m,n,p,q,g){e=function(e){function c(a){a=e.call(this)||this;a.unit="non-metric";a.view=null;a.viewModel=new n;return a}k(c,e);c.prototype.postInitialize=function(){var a=this;this.own([l.whenTrue(this,
"view.stationary",function(){return a.scheduleRender()})])};Object.defineProperty(c.prototype,"style",{set:function(a){this._set("style","dual"===this.unit?"line":a)},enumerable:!0,configurable:!0});c.prototype.castStyle=function(a){return"line"===a?a:"ruler"};c.prototype.castUnit=function(a){return"metric"===a||"dual"===a?a:"non-metric"};c.prototype.render=function(){var a="disabled"===this.get("viewModel.state"),e=(d={},d["esri-disabled"]=a,d),c,f;if(!a){var h=this.unit,a=this.style,d="metric"===
h||"dual"===h;if("non-metric"===h||"dual"===h)f=this.viewModel.getScaleBarProperties(50,"non-metric"),f="ruler"===a?this._renderRuler(f):this._renderLine(f,"bottom");d&&(c=this.viewModel.getScaleBarProperties(50,"metric"),c="ruler"===a?this._renderRuler(c):this._renderLine(c,"top"))}return b.jsxFactory.createElement("div",{afterCreate:this._handleRootCreation,bind:this,class:"esri-scale-bar esri-widget",classes:e},c,f);var d};c.prototype._renderRuler=function(a){var c=g[a.unit]||g.unknownUnit;return b.jsxFactory.createElement("div",
{class:"esri-scale-bar__bar-container",styles:{width:2*Math.round(a.length)+"px"},key:"esri-scale-bar__ruler"},b.jsxFactory.createElement("div",{class:"esri-scale-bar__ruler"},b.jsxFactory.createElement("div",{class:b.join("esri-scale-bar__ruler-block")}),b.jsxFactory.createElement("div",{class:b.join("esri-scale-bar__ruler-block")}),b.jsxFactory.createElement("div",{class:b.join("esri-scale-bar__ruler-block")}),b.jsxFactory.createElement("div",{class:b.join("esri-scale-bar__ruler-block")})),b.jsxFactory.createElement("div",
{class:"esri-scale-bar__label-container"},b.jsxFactory.createElement("div",{class:"esri-scale-bar__label"},"0"),b.jsxFactory.createElement("div",{class:"esri-scale-bar__label"},a.value),b.jsxFactory.createElement("div",{class:"esri-scale-bar__label"},2*a.value," ",c)))};c.prototype._renderLine=function(a,c){var e=g[a.unit]||g.unknownUnit,e=b.jsxFactory.createElement("div",{class:b.join("esri-scale-bar__label-container","esri-scale-bar__label-container--line"),key:"esri-scale-bar__label"},b.jsxFactory.createElement("div",
{class:"esri-scale-bar__label"},2*a.value," ",e)),f=(d={},d["esri-scale-bar__line--top"]="top"===c,d["esri-scale-bar__line--bottom"]="bottom"===c,d),d=b.jsxFactory.createElement("div",{class:"esri-scale-bar__line",classes:f,key:"esri-scale-bar__line"});return b.jsxFactory.createElement("div",{class:"esri-scale-bar__bar-container",styles:{width:2*Math.round(a.length)+"px"},key:"esri-scale-bar__line-container"},"top"===c?[e,d]:[d,e]);var d};c.prototype._handleRootCreation=function(a){var b=this.viewModel;
b&&(a=q.position(a,!0),b.scaleComputedFrom=new p({x:a.x,y:a.y}))};return c}(f.declared(m));d([f.property({dependsOn:["unit"]}),b.renderable()],e.prototype,"style",null);d([f.cast("style")],e.prototype,"castStyle",null);d([f.property(),b.renderable()],e.prototype,"unit",void 0);d([f.cast("unit")],e.prototype,"castUnit",null);d([f.aliasOf("viewModel.view"),b.renderable()],e.prototype,"view",void 0);d([f.property(),b.renderable(["viewModel.state"])],e.prototype,"viewModel",void 0);return e=d([f.subclass("esri.widgets.ScaleBar")],
e)});