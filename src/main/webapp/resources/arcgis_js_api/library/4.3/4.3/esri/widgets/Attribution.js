// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.3/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./support/widget ./Widget ./Attribution/AttributionViewModel".split(" "),function(b,n,k,l,d,g,f,m,h){b=function(b){function c(a){a=b.call(this)||this;a._isOpen=!1;a._attributionTextOverflowed=!1;a._prevSourceNodeHeight=0;a.view=null;a.viewModel=new h;return a}l(c,b);c.prototype.render=function(){var a=(e={},e["esri-attribution--open"]=this._isOpen,
e);return f.jsxFactory.createElement("div",{bind:this,class:"esri-attribution esri-widget",classes:a,onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),f.jsxFactory.createElement("div",{class:"esri-attribution__powered-by"},"Powered by ",f.jsxFactory.createElement("a",{target:"_blank",href:"http://www.esri.com/",class:"esri-attribution__link"},"Esri")));var e};c.prototype._renderSourcesNode=function(){var a=this._isOpen,e=this._isInteractive(),b=e?0:-1,c=this.get("viewModel.attributionText"),
a=(d={},d["esri-attribution__sources--open"]=a,d["esri-interactive"]=e,d),b={afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,class:"esri-attribution__sources",classes:a,key:e?"interactive":"non-interactive",tabIndex:b};e&&(b.role="button");return f.jsxFactory.createElement("div",k({},b),c);var d};c.prototype._afterSourcesNodeCreate=function(a){this._prevSourceNodeHeight=a.clientWidth};c.prototype._afterSourcesNodeUpdate=function(a){var b=!1,c=a.clientHeight;
a=a.scrollWidth>a.clientWidth;var d=this._attributionTextOverflowed!==a;this._attributionTextOverflowed=a;d&&(b=!0);this._isOpen&&(a=c<this._prevSourceNodeHeight,this._prevSourceNodeHeight=c,a&&(this._isOpen=!1,b=!0));b&&this.renderNow()};c.prototype._toggleState=function(){this._isInteractive()&&(this._isOpen=!this._isOpen)};c.prototype._isInteractive=function(){return this._isOpen||this._attributionTextOverflowed};return c}(g.declared(m));d([g.aliasOf("viewModel.view")],b.prototype,"view",void 0);
d([g.property({type:h}),f.renderable(["attributionText","state","view.size"])],b.prototype,"viewModel",void 0);d([f.accessibleHandler()],b.prototype,"_toggleState",null);return b=d([g.subclass("esri.widgets.Attribution")],b)});