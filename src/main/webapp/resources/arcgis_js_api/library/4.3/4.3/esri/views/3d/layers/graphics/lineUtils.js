// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.3/esri/copyright.txt for details.
//>>built
define("require exports ../../webgl-engine/materials/RibbonLineMaterial ../../webgl-engine/materials/NativeLineMaterial ../../webgl-engine/lib/GeometryData ../../webgl-engine/lib/Util".split(" "),function(u,k,q,r,n,t){function p(a){var d=a.length;return a[0]===a[d-3]&&a[1]===a[d-2]&&a[2]===a[d-1]}var g=t.VertexAttrConstants;k.createRibbonMaterial=function(a){var d={width:a.width,color:a.color,miterLimit:a.miterLimit,polygonOffset:!0};"miter"===a.join||"bevel"===a.join?d.join=a.join:(d.join="miter",
a.join&&console.warn("unsupported join type for line symbol: "+a.join));return new q(d,a.idHint+"_ribbonlinemat")};k.createNativeMaterial=function(a){return new r(a.width,a.color,a.idHint+"_nativelinemat")};k.createOutlineGeometryFromSegments=function(a,d){for(var e=[],l=0;l<d.length;l++)for(var f=a[l],c=0;c<d[l].length;c++){for(var b=d[l][c],h=[],g=b[0];g<b[1];g++)h.push(f[g]);0<h.length&&e.push(h)}return e};k.isClosed=p;k.createPolylineGeometry=function(a,d,e,l,f){var c,b,h;if(e=e&&!p(a)){e=new Float32Array(a.length+
3);for(b=0;b<a.length;b++)e[b]=a[b];b=e.length;e[b-3]=a[0];e[b-2]=a[1];e[b-1]=a[2];c=a.length/3+1;b=new Uint32Array(2*(c-1));h=new Uint32Array(2*(c-1))}else c=a.length/3,b=new Uint32Array(2*(c-1)),h=new Uint32Array(2*(c-1)),e=a;a=new Float32Array(1);a[0]=f;for(var k=f=0,m=0;m<c-1;m++)b[f++]=m,b[f++]=m+1,h[k++]=0,h[k++]=0;f={};c={};f[g.POSITION]=b;f[g.COLOR]=h;f[g.SIZE]=h;c[g.POSITION]={size:3,data:e};c[g.COLOR]={size:4,data:l};c[g.SIZE]={size:1,data:a};d&&(f.mapPos=b,c.mapPos={size:3,data:d});return new n(c,
f,n.DefaultOffsets,"line")}});