// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.3/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../core/tsSupport/extendsHelper","../InputHandler","./support"],function(f,g,h,k,l){f=function(f){function e(a,c,d){void 0===a&&(a=250);void 0===c&&(c=10);void 0===d&&(d=35);var b=f.call(this,"recognizers.SingleAndDoubleClick",!1)||this;b.maximumDoubleClickDelay=a;b.maximumDoubleClickDistance=c;b.maximumDoubleTouchDistance=d;b._pointerState=new Map;b._click=b.registerOutgoing("click");b._doubleClick=b.registerOutgoing("double-click");b.registerIncoming("pointer-click",
b._handlePointerClick.bind(b));return b}h(e,f);e.prototype._pointerId=function(a){a=a.native;return"mouse"===a.pointerType?a.pointerId+":"+a.button:""+a.pointerType};e.prototype._handlePointerClick=function(a){a=a.data;var c=this._pointerId(a),d=this._pointerState.get(c);if(d){clearTimeout(d.doubleClickTimeout);d.doubleClickTimeout=0;var b="touch"===a.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;l.manhattanDistance(d.event,a)>b?(this._doubleClickTimeoutExceeded(c),
this._startClick(a)):(this._doubleClick.emit(a),this._pointerState.delete(c))}else this._startClick(a)};e.prototype._startClick=function(a){var c=this,d=this._pointerId(a);this._pointerState.set(d,{event:a,doubleClickTimeout:setTimeout(function(){return c._doubleClickTimeoutExceeded(d)},this.maximumDoubleClickDelay)})};e.prototype._doubleClickTimeoutExceeded=function(a){var c=this._pointerState.get(a);this._click.emit(c.event);c.doubleClickTimeout=0;this._pointerState.delete(a)};return e}(k.InputHandler);
g.SingleAndDoubleClick=f});