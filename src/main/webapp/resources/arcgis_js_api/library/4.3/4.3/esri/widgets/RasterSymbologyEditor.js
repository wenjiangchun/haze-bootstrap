// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.3/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dgrid/OnDemandGrid ./ColorRampSelector dijit/TitlePane ../core/accessorSupport/decorators ./Widget ./RasterSymbologyEditor/RasterSymbologyEditorViewModel dojo/dom-construct dojo/store/Memory dijit/form/FilteringSelect dijit/form/NumberTextBox dijit/form/CheckBox dijit/form/NumberSpinner ./support/widget dojo/i18n!./RasterSymbologyEditor/nls/RasterSymbologyEditor".split(" "),function(e,F,A,f,B,y,u,g,C,z,
k,m,l,q,D,E,b,h){var d={base:"esri-raster-symbology-editor",filteringSelect:"esri-raster-symbology-editor__filtering-select",stretchColorSchemeRow:"esri-raster-symbology-editor__stretch-color-ramp-row",percentClipOptionsRow:"esri-raster-symbology-editor__percent-clip-row",stdDeviationOptionsRow:"esri-raster-symbology-editor__std-deviation-row",stretchOptionsBlock:"esri-raster-symbology-editor__stretch-options",stretchGammaBlock:"esri-raster-symbology-editor__stretch-gamma-row",stretchDraBlock:"esri-raster-symbology-editor__stretch-dra-row",
displayHidden:"esri-raster-symbology-editor--hidden",displayBlock:"esri-raster-symbology-editor--block",table:"esri-raster-symbology-editor__table",thumbnailImage:"esri-raster-symbology-editor__thumbnail-image",bandCombinationPresetNaturalColorImg:"esri-raster-symbology-editor__band-combination-natural-color-img",bandCombinationPresetLanduseImg:"esri-raster-symbology-editor__band-combination-landuse-img",bandCombinationPresetLandWaterImg:"esri-raster-symbology-editor__band-combination-land-water-img",
bandCombinationPresetVegetationImg:"esri-raster-symbology-editor__band-combination-vegetation-img",bandCombinationPresetShallowBathymetricImg:"esri-raster-symbology-editor__band-combination-bathymetric-img",bandCombinationPresetColorInfraredImg:"esri-raster-symbology-editor__band-combination-color-infrared-img",minMaxStretchTypeImg:"esri-raster-symbology-editor__stretch-type-min-max-img",noneStretchTypeImg:"esri-raster-symbology-editor__stretch-type-none-img",standardDeviationStretchTypeImg:"esri-raster-symbology-editor__stretch-type-standard-deviation-img",
percentClipStretchTypeImg:"esri-raster-symbology-editor__stretch-type-percent-clip-img",rgbSymbologyTypeImg:"esri-raster-symbology-editor__symbology-type-rgb-img",stretchSymbologyTypeImg:"esri-raster-symbology-editor__symbology-type-stretch-img",uniqueValueSymbologyTypeImg:"esri-raster-symbology-editor__symbology-type-unique-value-img",menuItemTd:"esri-raster-symbology-editor__menu-item-td",dgridSymbolCell:"esri-raster-symbology-editor__dgrid-symbol-cell",menuItemText:"esri-raster-symbology-editor__menu-item-text",
checkbox:"esri-raster-symbology-editor__checkbox"};e=function(e){function c(){var a=null!==e&&e.apply(this,arguments)||this;a.layer=null;a.defaultParams=null;a.viewModel=new z;a._components=[];a._symbologySelect=null;a._colorSchemeTitlePane=null;a._noDataTitlePane=null;a._bandSelect=null;a._stretchColorRampSelect=null;a._noDataInput=null;a._stretchTypeSelect=null;a._stretchTitlePane=null;a.stretchType=0;a.symbologyType="";a._minPercentInput=null;a._maxPercentInput=null;a._gammaInput=null;a._standardDeviationsInput=
null;a._stretchStatisticsCheckBox=null;a._supportsBandPresets=!1;a._bandCombinationTitlePane=null;a._bandCombinationPresetSelect=null;a._redBandSelect=null;a._greenBandSelect=null;a._blueBandSelect=null;a._uniqueValueFieldSelect=null;a._uniqueValueColorSchemeSelect=null;a._uniqueValueNoDataInput=null;a._uniqueValuesGrid=null;a._uniqueValuesSymbolData=null;a._showLoadingGif=!1;return a}A(c,e);c.prototype.postInitialize=function(a){this.defaultParams=this.viewModel.getDefaultRenderParameters();this._createUIComponents()};
c.prototype.destroy=function(){this._components.forEach(function(a){a&&(a.destroy(),a=null)})};c.prototype.render=function(){var a=this.symbologyType,c=this.stretchType,e=this.viewModel.isStretchColorRampApplicable(c),g=b.jsxFactory.createElement("div",null,b.jsxFactory.createElement("div",{afterCreate:this._placeSymbologySelect,bind:this})),e=b.jsxFactory.createElement("div",{classes:(f={},f[d.displayBlock]="stretch"===a,f[d.displayHidden]="stretch"!==a,f)},b.jsxFactory.createElement("div",{afterCreate:this._createColorSchemeTitlePane,
bind:this},b.jsxFactory.createElement("table",{class:d.table},b.jsxFactory.createElement("tr",null,b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("label",null,h.bandSelectionLabel)),b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("div",{afterCreate:this._placeBandSelect,bind:this}))),b.jsxFactory.createElement("tr",{classes:(r={},r[d.stretchColorSchemeRow]=e,r[d.displayHidden]=!e,r)},b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("label",null,h.colorSchemeLabel)),
b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("div",{afterCreate:this._placeColorRampSelect,bind:this})))))),f=b.jsxFactory.createElement("div",{classes:(k={},k[d.displayBlock]="stretch"===a||"rgb"===a,k[d.displayHidden]="stretch"!==a,k)},b.jsxFactory.createElement("div",{afterCreate:this._createNoDataTitlePane,bind:this},b.jsxFactory.createElement("table",{class:d.table},b.jsxFactory.createElement("tr",null,b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("label",
null,h.noDataLabel)),b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("div",{afterCreate:this._placeNoDataInput,bind:this})))))),k=b.jsxFactory.createElement("div",{afterCreate:this._placeStretchTypeSelect,bind:this}),r=b.jsxFactory.createElement("tr",{classes:(t={},t[d.percentClipOptionsRow]=6===c,t[d.displayHidden]=6!==c,t)},b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("label",null,h.minLabel)),b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("div",
{afterCreate:this._placeMinPercentInput,bind:this})),b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("label",null,h.maxLabel)),b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("div",{afterCreate:this._placeMaxPercentInput,bind:this}))),t=b.jsxFactory.createElement("tr",{classes:(l={},l[d.stdDeviationOptionsRow]=3===c,l[d.displayHidden]=3!==c,l)},b.jsxFactory.createElement("td",{colSpan:2},b.jsxFactory.createElement("label",null,h.nStdDeviationsLabel)),b.jsxFactory.createElement("td",
{colSpan:2},b.jsxFactory.createElement("div",{afterCreate:this._placeStandardDeviationsInput,bind:this}))),c=b.jsxFactory.createElement("div",{classes:(n={},n[d.displayBlock]="stretch"===a||"rgb"===a,n[d.displayHidden]="stretch"!==a,n)},b.jsxFactory.createElement("div",{afterCreate:this._createStretchTitlePane,bind:this},b.jsxFactory.createElement("table",{class:d.table},b.jsxFactory.createElement("tr",{class:d.stretchOptionsBlock},b.jsxFactory.createElement("td",{colSpan:2},b.jsxFactory.createElement("label",
null,h.stretchTypeLabel)),b.jsxFactory.createElement("td",{colSpan:2},k)),r,t,b.jsxFactory.createElement("tr",{classes:(p={},p[d.stretchGammaBlock]=0!==c,p[d.displayHidden]=0===c,p)},b.jsxFactory.createElement("td",{colSpan:2},b.jsxFactory.createElement("label",null,h.gammaLabel)),b.jsxFactory.createElement("td",{colSpan:2},b.jsxFactory.createElement("div",{afterCreate:this._placeGammaInput,bind:this}))),b.jsxFactory.createElement("tr",{classes:(v={},v[d.stretchDraBlock]=0!==c,v[d.displayHidden]=
0===c,v)},b.jsxFactory.createElement("td",{colSpan:4},b.jsxFactory.createElement("div",{class:d.checkbox,afterCreate:this._placeStretchStatisticsCheckbox,bind:this}),b.jsxFactory.createElement("label",null,h.draStatisticsTitle)))))),n=b.jsxFactory.createElement("div",{classes:(w={},w[d.displayBlock]="rgb"===a,w[d.displayHidden]="rgb"!==a,w)},b.jsxFactory.createElement("div",{afterCreate:this._createBandCombinationTitlePane,bind:this},b.jsxFactory.createElement("table",{class:d.table},b.jsxFactory.createElement("tr",
{classes:(x={},x[d.stdDeviationOptionsRow]=this._supportsBandPresets,x[d.displayHidden]=!this._supportsBandPresets,x)},b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("label",null,h.bandCombinationPresetLabel)),b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("div",{afterCreate:this._placeBandCombinationPresetSelect,bind:this}))),b.jsxFactory.createElement("tr",null,b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("label",null,h.redBandTitle)),b.jsxFactory.createElement("td",
null,b.jsxFactory.createElement("div",{afterCreate:this._placeRedBandSelect,bind:this}))),b.jsxFactory.createElement("tr",null,b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("label",null,h.greenBandTitle)),b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("div",{afterCreate:this._placeGreenBandSelect,bind:this}))),b.jsxFactory.createElement("tr",null,b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("label",null,h.blueBandTitle)),b.jsxFactory.createElement("td",
null,b.jsxFactory.createElement("div",{afterCreate:this._placeBlueBandSelect,bind:this})))))),a=b.jsxFactory.createElement("div",{classes:(m={},m[d.displayBlock]="uniqueValue"===a,m[d.displayHidden]="uniqueValue"!==a,m)},b.jsxFactory.createElement("div",null,b.jsxFactory.createElement("table",{class:d.table},b.jsxFactory.createElement("tr",null,b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("label",null,h.valueFieldTitle)),b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("div",
{afterCreate:this._placeUniqueValueFieldSelect,bind:this}))),b.jsxFactory.createElement("tr",null,b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("label",null,h.colorSchemeLabel)),b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("div",{afterCreate:this._placeUniqueValueColorSchemeSelect,bind:this}))),b.jsxFactory.createElement("tr",null,b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("label",null,h.noDataLabel)),b.jsxFactory.createElement("td",null,b.jsxFactory.createElement("div",
{afterCreate:this._placeUniqueValueNoDataInput,bind:this})))),b.jsxFactory.createElement("div",{afterCreate:this._placeUniqueValuesGrid,bind:this})));return b.jsxFactory.createElement("div",null,g,e,n,f,c,a);var f,r,k,t,l,n,p,v,w,x,m};c.prototype._createUIComponents=function(){this._createSymbologySelect();this._createStretchStatisticsCheckbox();this._createBandSelect();this._createStretchTypeSelect();this._createColorRampSelect();this._createBandCombinationPresetSelect();this._createRedBandSelect();
this._createGreenBandSelect();this._createBlueBandSelect();this._createNoDataInput();this._createMinPercentInput();this._createMaxPercentInput();this._createStandardDeviationsInput();this._createGammaInput();this._createUniqueValueFieldSelect();this._createUniqueValueColorSchemeSelect();this._createUniqueValueNoDataInput();this._createUniqueValuesGrid()};c.prototype._createSymbologySelect=function(){var a=this;this._symbologySelect=new l({store:this._getSymbologyStore(),class:d.filteringSelect,labelAttr:"label",
labelType:"html",onChange:function(b){a._updateSymbologyType(b)},value:this.defaultParams.symbologyType});this._components.push(this._symbologySelect);this._symbologySelect.startup()};c.prototype._createStretchStatisticsCheckbox=function(){var a=this;this._stretchStatisticsCheckBox=new D({onChange:function(){a._updateSymbology()}});this._components.push(this._stretchStatisticsCheckBox);this._stretchStatisticsCheckBox.startup()};c.prototype._createColorSchemeTitlePane=function(a){this._colorSchemeTitlePane=
new u({title:h.colorRampTitle},a);this._components.push(this._colorSchemeTitlePane);this._colorSchemeTitlePane.startup()};c.prototype._createNoDataTitlePane=function(a){this._noDataTitlePane=new u({title:h.backgroundTitle},a);this._components.push(this._noDataTitlePane);this._noDataTitlePane.startup()};c.prototype._createStretchTitlePane=function(a){this._stretchTitlePane=new u({title:h.stretchTitle},a);this._components.push(this._stretchTitlePane);this._stretchTitlePane.startup()};c.prototype._createBandCombinationTitlePane=
function(a){this._bandCombinationTitlePane=new u({title:h.bandCombinationTitle},a);this._components.push(this._bandCombinationTitlePane);this._bandCombinationTitlePane.startup()};c.prototype._createBandSelect=function(){var a=this;this._bandSelect=new l({class:d.filteringSelect,onChange:function(){a._updateSymbology()}});this._components.push(this._bandSelect);this._bandSelect.startup();this._populateBandSelect()};c.prototype._createStretchTypeSelect=function(){var a=this;this._stretchTypeSelect=
new l({class:d.filteringSelect,onChange:function(b){a._onStretchTypeChange(b)},labelAttr:"label",labelType:"html"});this._components.push(this._stretchTypeSelect);this._stretchTypeSelect.startup();this._populateStretchTypeSelect()};c.prototype._createColorRampSelect=function(){var a=this;this._stretchColorRampSelect=new y({class:d.filteringSelect,maxHeight:300});this._components.push(this._stretchColorRampSelect);this._stretchColorRampSelect.on("change",function(){a._updateSymbology()});this._stretchColorRampSelect.startup()};
c.prototype._createBandCombinationPresetSelect=function(){var a=this;this._bandCombinationPresetSelect=new l({class:d.filteringSelect,onChange:function(b){a._updateBandCombination(b)},labelType:"html",labelAttr:"label",maxHeight:350});this._components.push(this._bandCombinationPresetSelect);this._bandCombinationPresetSelect.startup()};c.prototype._createRedBandSelect=function(){var a=this;this._redBandSelect=new l({class:d.filteringSelect,onChange:function(){a._bandCombinationChanged()}});this._components.push(this._redBandSelect);
this._redBandSelect.startup();this._populateBandLists()};c.prototype._createGreenBandSelect=function(){var a=this;this._greenBandSelect=new l({class:d.filteringSelect,onChange:function(){a._bandCombinationChanged()}});this._components.push(this._greenBandSelect);this._greenBandSelect.startup();this._populateBandLists()};c.prototype._createBlueBandSelect=function(){var a=this;this._blueBandSelect=new l({class:d.filteringSelect,onChange:function(){a._bandCombinationChanged()}});this._components.push(this._blueBandSelect);
this._blueBandSelect.startup();this._populateBandLists()};c.prototype._createNoDataInput=function(){var a=this;this._noDataInput=new q({class:d.filteringSelect,onChange:function(){a._updateSymbology()}});this._components.push(this._noDataInput);this._noDataInput.startup()};c.prototype._createMinPercentInput=function(){var a=this;this._minPercentInput=new q({class:d.filteringSelect,onChange:function(){a._updateSymbology()},value:this.defaultParams.minPercent});this._components.push(this._minPercentInput);
this._minPercentInput.startup()};c.prototype._createMaxPercentInput=function(){var a=this;this._maxPercentInput=new q({class:d.filteringSelect,onChange:function(){a._updateSymbology()},value:this.defaultParams.maxPercent});this._components.push(this._maxPercentInput);this._maxPercentInput.startup()};c.prototype._createStandardDeviationsInput=function(){var a=this;this._standardDeviationsInput=new q({class:d.filteringSelect,onChange:function(){a._updateSymbology()},value:this.defaultParams.numberOfStandardDeviations});
this._components.push(this._standardDeviationsInput);this._standardDeviationsInput.startup()};c.prototype._createGammaInput=function(){var a=this;this._gammaInput=new E({class:d.filteringSelect,onChange:function(){a._updateSymbology()},value:this.defaultParams.gamma,smallDelta:.1});this._components.push(this._gammaInput);this._gammaInput.startup()};c.prototype._createUniqueValueFieldSelect=function(){var a=this;this._uniqueValueFieldSelect=new l({class:d.filteringSelect,onChange:function(){a._updateUniqueValueGrid()}});
this._components.push(this._uniqueValueFieldSelect);this._populateUniqueValueFieldSelect()};c.prototype._createUniqueValueColorSchemeSelect=function(){var a=this;this._uniqueValueColorSchemeSelect=new y({class:d.filteringSelect,maxHeight:300});this._components.push(this._uniqueValueColorSchemeSelect);this._uniqueValueColorSchemeSelect.on("change",function(){a._updateUniqueValueGrid()});this._uniqueValueColorSchemeSelect.startup()};c.prototype._createUniqueValueNoDataInput=function(){var a=this;this._uniqueValueNoDataInput=
new q({class:d.filteringSelect,onChange:function(){a._updateSymbology()}});this.defaultParams.uniqueValuesColorRamp&&(this.defaultParams.uniqueValuesColorRamp.name=h.uniqueValuesColorRampTitle,this._uniqueValueColorSchemeSelect.addColorRamp(this.defaultParams.uniqueValuesColorRamp,!0));this._components.push(this._uniqueValueNoDataInput);this._uniqueValueNoDataInput.startup()};c.prototype._createUniqueValuesGrid=function(){this._uniqueValuesGrid=new B({columns:[{field:"esriRasterSymbologyEditorUniqueValueSymbol",
renderCell:function(a,b,c){c.innerHTML="\x3cdiv class \x3d "+d.dgridSymbolCell+' \n          style \x3d "background: rgb( '+a.esriRasterSymbologyEditorUniqueValueSymbol.r+", \n          "+a.esriRasterSymbologyEditorUniqueValueSymbol.g+", \n          "+a.esriRasterSymbologyEditorUniqueValueSymbol.b+'");\x3e\x3c/div\x3e'},label:h.symbolLabel},{field:"esriRasterSymbologyEditorUniqueValueValue",label:h.valueLabel}]});this._components.push(this._uniqueValuesGrid);this._uniqueValuesGrid.startup()};c.prototype._placeSymbologySelect=
function(a){this._symbologySelect&&k.place(this._symbologySelect.domNode,a)};c.prototype._placeStretchStatisticsCheckbox=function(a){this._stretchStatisticsCheckBox&&k.place(this._stretchStatisticsCheckBox.domNode,a)};c.prototype._placeBandSelect=function(a){this._bandSelect&&k.place(this._bandSelect.domNode,a)};c.prototype._placeStretchTypeSelect=function(a){this._stretchTypeSelect&&k.place(this._stretchTypeSelect.domNode,a)};c.prototype._placeColorRampSelect=function(a){this._stretchColorRampSelect&&
k.place(this._stretchColorRampSelect.domNode,a)};c.prototype._placeBandCombinationPresetSelect=function(a){this._bandCombinationPresetSelect&&k.place(this._bandCombinationPresetSelect.domNode,a)};c.prototype._placeRedBandSelect=function(a){this._redBandSelect&&k.place(this._redBandSelect.domNode,a)};c.prototype._placeGreenBandSelect=function(a){this._colorSchemeTitlePane&&k.place(this._greenBandSelect.domNode,a)};c.prototype._placeBlueBandSelect=function(a){this._blueBandSelect&&k.place(this._blueBandSelect.domNode,
a)};c.prototype._placeNoDataInput=function(a){this._noDataInput&&k.place(this._noDataInput.domNode,a)};c.prototype._placeMinPercentInput=function(a){this._minPercentInput&&k.place(this._minPercentInput.domNode,a)};c.prototype._placeMaxPercentInput=function(a){this._maxPercentInput&&k.place(this._maxPercentInput.domNode,a)};c.prototype._placeStandardDeviationsInput=function(a){this._standardDeviationsInput&&k.place(this._standardDeviationsInput.domNode,a)};c.prototype._placeGammaInput=function(a){this._gammaInput&&
k.place(this._gammaInput.domNode,a)};c.prototype._placeUniqueValueFieldSelect=function(a){this._uniqueValueFieldSelect&&k.place(this._uniqueValueFieldSelect.domNode,a)};c.prototype._placeUniqueValueColorSchemeSelect=function(a){this._uniqueValueColorSchemeSelect&&k.place(this._uniqueValueColorSchemeSelect.domNode,a)};c.prototype._placeUniqueValueNoDataInput=function(a){this._uniqueValueNoDataInput&&k.place(this._uniqueValueNoDataInput.domNode,a)};c.prototype._placeUniqueValuesGrid=function(a){this._uniqueValuesGrid&&
k.place(this._uniqueValuesGrid.domNode,a)};c.prototype._bandCombinationChanged=function(){this._redBandSelect&&this._redBandSelect.validate()&&this._greenBandSelect&&this._greenBandSelect.validate()&&this._blueBandSelect&&this._blueBandSelect.validate()&&this._updateSymbology()};c.prototype._updateBandCombination=function(a){if("custom"===a)this._redBandSelect.set("disabled",!1),this._greenBandSelect.set("disabled",!1),this._blueBandSelect.set("disabled",!1);else{var b;this._bandCombinationPresetSelect.store.data.some(function(c){a===
c.id&&(b=c.combination)});b&&(this._redBandSelect.set({value:b[0]-1,disabled:!0}),this._greenBandSelect.set({value:b[1]-1,disabled:!0}),this._blueBandSelect.set({value:b[2]-1,disabled:!0}),this._updateSymbology())}};c.prototype._updateSymbologyType=function(a){this.symbologyType=a;this._updateSymbology()};c.prototype._updateUniqueValueGrid=function(){var a=this.viewModel.getUniqueValueGridData(this._uniqueValueColorSchemeSelect.colorRamp,this._uniqueValueFieldSelect.value);this._uniqueValuesGrid.refresh();
this._uniqueValuesGrid.renderArray(a);this._uniqueValuesSymbolData=a;this._updateSymbology()};c.prototype._populateUniqueValueFieldSelect=function(){var a=this.viewModel.getUniqueValueFields(),a=new m({data:a,idProperty:"name"});this._uniqueValueFieldSelect.set({store:a,labelAttr:"alias",value:this.defaultParams.uniqueValuesField})};c.prototype._populateStretchTypeSelect=function(){var a=this.viewModel.stretchTypes,b,c,e;a.forEach(function(a){b=h[a.name+"StretchTypeDescription"]||h[a.name+"TypeDescription"];
e=d[a.name+"StretchTypeImg"];c=h[a.name+"StretchTitle"];a.label="\x3chtml\x3e\x3cbody\x3e\x3csection\x3e\n        \x3ch4\x3e"+c+"\x3c/h4\x3e\n        \x3ctable\x3e\x3ctr\x3e\n          \x3ctd class\x3d"+d.menuItemTd+'\x3e\n            \x3cimg class\x3d"'+e+" "+d.thumbnailImage+'" /\x3e\n          \x3c/td\x3e\n          \x3ctd class\x3d'+d.menuItemTd+"\x3e\n            \x3cp class\x3d"+d.menuItemText+"\x3e\x3ci\x3e"+b+"\x3c/i\x3e\x3c/p\x3e\n          \x3c/td\x3e\n          \x3c/tr\x3e\x3c/table\x3e\n        \x3c/section\x3e\x3c/body\x3e\x3c/html\x3e";
a.name=c});this._stretchTypeSelect.set({store:new m({data:a}),value:this.defaultParams.stretchType,labelAttr:"label",labelType:"html"})};c.prototype._populateBandSelect=function(){var a=this,b;this.viewModel.getBandData().then(function(c){b=new m({data:c.lists[0],idProperty:"index"});a._bandSelect.set("store",b);1===c.lists[0].length&&a._bandSelect.set({value:c.lists[0][0].index,disabled:!0})})};c.prototype._populateBandLists=function(){var a=this;if(this._redBandSelect&&this._greenBandSelect&&this._blueBandSelect&&
this._bandCombinationPresetSelect){var b=[this._redBandSelect,this._greenBandSelect,this._blueBandSelect],c=[],e,f,g,k,l,n,q;this.viewModel.getBandData().then(function(p){p.lists.forEach(function(a,c){a.some(function(a){if(a.selected)return f=a.index,!0});g=new m({data:a,idProperty:"index"});b[c].set({store:g,value:f})});p.presets&&p.presets.length?(a._supportsBandPresets=!0,p.presets.forEach(function(a,b){e=Object.keys(a)[0];l=h["bandComboName"+e];n=h["bandComboDesc"+e];q=d["bandCombinationPreset"+
e+"Img"];c.push({name:h["bandComboName"+e],label:"\x3chtml\x3e\x3cbody\x3e\x3csection\x3e\n              \x3ch4\x3e"+l+"\x3c/h4\x3e\n              \x3ctable\x3e\x3ctr\x3e\n                \x3ctd class\x3d"+d.menuItemTd+'\x3e\n                  \x3cimg class\x3d "'+q+" "+d.thumbnailImage+'" /\x3e\n                \x3c/td\x3e\n                \x3ctd class\x3d'+d.menuItemTd+"\x3e\n                  \x3cp class\x3d"+d.menuItemText+"\x3e\x3ci\x3e"+n+"\x3c/i\x3e\x3c/p\x3e\n                \x3c/td\x3e\n              \x3c/tr\x3e\x3c/table\x3e\n            \x3c/section\x3e\x3c/body\x3e\x3c/html\x3e",
combination:a[e],id:e})}),c.push({name:h.bandComboNameCustom,combination:null,id:"custom",label:"\x3chtml\x3e\x3cbody\x3e\x3csection\x3e\n            \x3ch4\x3e "+h.bandComboNameCustom+":\x3c/h4\x3e\n            \x3ctable cellspacing\x3d'5'\x3e\n              \x3ctr\x3e\n                \x3ctd class\x3d"+d.menuItemTd+"\x3e\n                  \x3cp class\x3d"+d.menuItemText+"\x3e\x3ci\x3e"+h.bandComboNameCustom+"\x3c/i\x3e\x3c/p\x3e\n                \x3c/td\x3e\n              \x3c/tr\x3e\n            \x3c/table\x3e\n          \x3c/section\x3e\x3c/body\x3e\x3c/html\x3e"}),
k=new m({data:c}),a._bandCombinationPresetSelect.set({store:k,value:"custom"})):a._supportsBandPresets=!1;a.scheduleRender()})}};c.prototype._onStretchTypeChange=function(a){var b;this.viewModel.stretchTypes.forEach(function(c){c.id===a&&(b=c.filterType)});this.stretchType=b;this._updateSymbology()};c.prototype._updateSymbology=function(){if(this._symbologySelect&&this._stretchTypeSelect&&this._stretchColorRampSelect&&this._noDataInput&&this._minPercentInput&&this._maxPercentInput&&this._stretchTypeSelect&&
this._gammaInput&&this._standardDeviationsInput){var a=this._getProperties();this.viewModel.updateRendering(a)}};c.prototype._getProperties=function(){var a={};a.symbologyType=this._symbologySelect.value;a.stretchType=this.stretchType;a.minPercent=this._minPercentInput.value;a.maxPercent=this._maxPercentInput.value;a.numberOfStandardDeviations=this._standardDeviationsInput.value;a.noData="uniqueValue"===this.symbologyType?this._uniqueValueNoDataInput.value:this._noDataInput.value;a.gamma=this._gammaInput.value;
a.colorRampName=this._stretchColorRampSelect.colorRampName;a.dra=this._stretchStatisticsCheckBox.checked;a.selectedBand=this._bandSelect.value;a.bandIds=[this._redBandSelect.value,this._greenBandSelect.value,this._blueBandSelect.value];a.uniqueValuesColorRamp=this._uniqueValueColorSchemeSelect.colorRamp;a.uniqueValuesSymbolData=this._uniqueValuesSymbolData;return a};c.prototype._getSymbologyStore=function(){var a=[],b,c,e;this.viewModel.getSymbologyTypes().forEach(function(f){b=h[f+"Title"];c=h[f+
"Description"]||h[f+"Title"];e=d[f+"SymbologyTypeImg"];a.push({id:f,name:b,label:"\x3chtml\x3e\x3cbody\x3e\x3csection\x3e\n          \x3ch4\x3e"+b+"\x3c/h4\x3e\n          \x3ctable\x3e\x3ctr\x3e\n            \x3ctd class\x3d"+d.menuItemTd+"\x3e\x3cimg class\x3d "+e+" /\x3e\x3c/td\x3e\n            \x3ctd class\x3d"+d.menuItemTd+"\x3e\n              \x3cp class\x3d"+d.menuItemText+"\x3e\x3ci\x3e"+c+"\x3c/i\x3e\x3c/p\x3e\n            \x3c/td\x3e\n          \x3c/tr\x3e\x3c/table\x3e\n        \x3c/section\x3e\x3c/body\x3e\x3c/html\x3e"})},
this);return new m({data:a})};return c}(g.declared(C));f([g.property(),b.renderable()],e.prototype,"layer",void 0);f([g.property()],e.prototype,"defaultParams",void 0);f([g.property({type:z})],e.prototype,"viewModel",void 0);f([g.property()],e.prototype,"_components",void 0);f([g.property()],e.prototype,"_symbologySelect",void 0);f([g.property()],e.prototype,"_colorSchemeTitlePane",void 0);f([g.property()],e.prototype,"_noDataTitlePane",void 0);f([g.property()],e.prototype,"_bandSelect",void 0);f([g.property()],
e.prototype,"_stretchColorRampSelect",void 0);f([g.property()],e.prototype,"_noDataInput",void 0);f([g.property()],e.prototype,"_stretchTypeSelect",void 0);f([g.property()],e.prototype,"_stretchTitlePane",void 0);f([g.property(),b.renderable()],e.prototype,"stretchType",void 0);f([g.property(),b.renderable()],e.prototype,"symbologyType",void 0);f([g.property()],e.prototype,"_minPercentInput",void 0);f([g.property()],e.prototype,"_maxPercentInput",void 0);f([g.property()],e.prototype,"_gammaInput",
void 0);f([g.property()],e.prototype,"_standardDeviationsInput",void 0);f([g.property()],e.prototype,"_stretchStatisticsCheckBox",void 0);f([g.property()],e.prototype,"_supportsBandPresets",void 0);f([g.property()],e.prototype,"_bandCombinationTitlePane",void 0);f([g.property()],e.prototype,"_bandCombinationPresetSelect",void 0);f([g.property()],e.prototype,"_redBandSelect",void 0);f([g.property()],e.prototype,"_greenBandSelect",void 0);f([g.property()],e.prototype,"_blueBandSelect",void 0);f([g.property()],
e.prototype,"_uniqueValueFieldSelect",void 0);f([g.property()],e.prototype,"_uniqueValueColorSchemeSelect",void 0);f([g.property()],e.prototype,"_uniqueValueNoDataInput",void 0);f([g.property()],e.prototype,"_uniqueValuesGrid",void 0);f([g.property()],e.prototype,"_uniqueValuesSymbolData",void 0);f([g.property(),b.renderable()],e.prototype,"_showLoadingGif",void 0);return e=f([g.subclass("esri.widgets.RasterSymbologyEditor")],e)});