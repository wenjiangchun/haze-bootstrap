// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.3/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/watchUtils ../../core/Accessor ../../core/HandleRegistry".split(" "),function(a,l,f,e,d,g,h,k){a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._handles=new k;b.screenPoint=null;b.state="disabled";return b}f(c,a);c.prototype.destroy=function(){this._viewReady&&this._viewReady.cancel();this.view=null;this._handles.destroy();
this._viewWatch=this._handles=null};Object.defineProperty(c.prototype,"point",{set:function(b){this._viewControl(b);this._createScreenPoint(b,this.view);this._set("point",b)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"view",{set:function(b){var a=this;this._handles&&(this._handles.remove("viewHandles"),this._viewWatch=null);this._viewReady&&this._viewReady.cancel();this._set("state","disabled");b&&(this._viewReady=b.then(function(){a._set("state","ready");var c="viewpoint";
"3d"===b.type&&(c="camera");a._viewWatch=g.pausable(b,c,function(){a._createScreenPoint(a.point,a.view)});a._handles.add(a._viewWatch,"viewHandles");a._viewControl(a.point)}));this._set("view",b)},enumerable:!0,configurable:!0});c.prototype._viewControl=function(a){this._viewWatch&&(a?this._viewWatch.resume():this._viewWatch.pause())};c.prototype._createScreenPoint=function(a,c){this.screenPoint=a?c.toScreen(a.x,a.y,a.z):null};return c}(d.declared(h));e([d.property()],a.prototype,"point",null);e([d.property()],
a.prototype,"screenPoint",void 0);e([d.property({readOnly:!0})],a.prototype,"state",void 0);e([d.property()],a.prototype,"view",null);return a=e([d.subclass("esri.widgets.support.AnchorElementViewModel")],a)});